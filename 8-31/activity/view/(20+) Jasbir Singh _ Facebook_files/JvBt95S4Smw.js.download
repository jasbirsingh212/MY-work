if (self.CavalryLogger) { CavalryLogger.start_js(["qRI\/m"]); }

__d("CometPhotoPickerFileUploaderButton.react",["ix","CometFileSelector.react","React","TetraButton.react","fbicon"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("fbicon")._(g("730253"),16);function a(a){var c=a.disabled,d=c===void 0?!1:c,e=a.label;c=a.onFilesSelected;var f=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","label","onFilesSelected"]);return h.jsx(b("CometFileSelector.react"),{accept:["image/*","image/heif","image/heic"],onFilesSelected:c,children:function(a){return h.jsx(b("TetraButton.react"),babelHelpers["extends"]({disabled:d,icon:i,label:e,type:"secondary"},f,{onPress:function(){a(),f.onPress&&f.onPress()}}))}})}}),null);
__d("CometPhotoPickerInput_DO_NOT_USE.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={mediaPicker:{alignItems:"bp9cbjyn",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t",width:"k4urcfbm"}};function a(a){var c=a.children,d=a.onFilesSelected,e=a.testid;e=a.xstyle;return h.jsx("div",{className:(g||(g=b("stylex")))(i.mediaPicker,e),"data-testid":void 0,children:c({onFilesSelected:d})})}}),null);
__d("CometPhotoPickerImagePreviewer.react",["ix","fbt","CometDarkModeContext","CometImage.react","CometObjectFitContainerNext.react","CometPhotoPickerFileUploaderButton.react","CometPhotoPickerInput_DO_NOT_USE.react","CometProgressRing.react","React","TetraCircleButton.react","deferredLoadComponent","fbicon","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("deferredLoadComponent")(b("requireDeferredForDisplay")("TetraishEntityHeaderCoverDraggable.react")),l={buttonsContainer:{display:"j83agx80",end:"b5fwa0m2",position:"pmk7jnqg",top:"plgsh5y4"},container:{alignItems:"bp9cbjyn",borderTopColor:"qbxu24ho",borderEndColor:"bxzzcbxg",borderBottomColor:"lxuwth05",borderStartColor:"h2mp5456",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm"},image:{height:"datstx6m",objectFit:"bixrwtb6",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},loading:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",alignItems:"bp9cbjyn",backgroundColor:"ms7hmo2b",display:"j83agx80",justifyContent:"taijpn5t"},secondaryButton:{marginTop:"n1l5q3vz",width:"q3qqxkgz"},uploadButton:{width:"q3qqxkgz"}},m=b("fbicon")._(g("483825"),16);function a(a){var c=a.aspectRatio,d=a.buttonSize;d=d===void 0?40:d;var e=a.customUploadButton;e=e===void 0?null:e;var f=a.disabled,g=f===void 0?!1:f;f=a.disableReposition;f=f===void 0?!1:f;var n=a.focus,o=a.isLoading;o=o===void 0?!1:o;var p=a.onChange,q=a.onFilesSelected,r=a.previewURL,s=a.secondaryButton,t=s===void 0?null:s;s=a.testid;var u=a.uploadButtonLabel;s=a.xstyle;a=j.useContext(b("CometDarkModeContext"));a=a.isDarkModeEnabled;var v=j.useState(null),w=v[0],x=v[1],y=j.useMemo(function(){return new FileReader()},[]),z=j.useCallback(function(a){var b=new Image();b.onload=function(){x({aspectRatio:b.width/b.height,url:a})};b.src=a},[]);j.useEffect(function(){r==null?x(null):typeof r==="string"&&z(r)},[z,r]);j.useEffect(function(){y.addEventListener("load",function(){var a=y.result;a!=null&&typeof a==="string"&&z(a)})},[z,y]);v=j.useCallback(function(a){var b=Array.from(a),c=b[0];b=b.slice(1);b.length>0?(alert("Only one file can be uploaded at a time."),x(null)):y.readAsDataURL(c);q&&q(a)},[q,y]);var A=j.useCallback(function(a,b){p&&p(w==null?void 0:w.url,{x:a,y:b})},[w,p]),B=j.useCallback(function(){x(null),p&&p(null,null)},[p]),C=w?j.jsx(b("CometImage.react"),{src:w.url,xstyle:l.image}):null;if(w==null)return j.jsx(b("CometObjectFitContainerNext.react"),{containerAspectRatio:c,contentAspectRatio:c,mode:"cover",children:j.jsx(b("CometPhotoPickerInput_DO_NOT_USE.react"),{onFilesSelected:v,testid:void 0,children:function(a){return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(l.uploadButton),children:j.jsx(b("CometPhotoPickerFileUploaderButton.react"),babelHelpers["extends"]({},a,{disabled:g,label:(a=u)!=null?a:"Upload Photos",testid:void 0}))}),t!=null&&j.jsx("div",{className:(i||(i=b("stylex")))(l.secondaryButton),children:t})]})}})});else return j.jsxs("div",{className:(i||(i=b("stylex")))(l.container,s),"data-testid":void 0,children:[w.url!=null&&(g||f||o?j.jsx(b("CometObjectFitContainerNext.react"),{containerAspectRatio:c,contentAspectRatio:w.aspectRatio,focus:n,mode:"cover",children:C}):j.jsx(k,{containerAspectRatio:c,contentAspectRatio:w.aspectRatio,focus:n,onDrag:A,children:C})),g&&j.jsx("div",{className:(i||(i=b("stylex")))(l.loading)}),o&&j.jsx("div",{className:(i||(i=b("stylex")))(l.loading),children:j.jsx(b("CometProgressRing.react"),{color:a?"light":"dark",duration:4,size:32,type:"estimated"})}),e!=null&&j.jsx("div",{className:(i||(i=b("stylex")))(l.buttonsContainer),children:e}),e==null&&!o&&w.url!=null&&j.jsx("div",{className:(i||(i=b("stylex")))(l.buttonsContainer),children:j.jsx(b("TetraCircleButton.react"),{disabled:g,icon:m,label:h._("Delete image"),onPress:B,size:d,testid:void 0})})]})}}),null);
__d("XGroupsCoverPhotoPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/cover_photo/preview/",{privacy_mutation_token:{type:"String"}})}),null);
__d("useProfileCometPhotoUploader",["AsyncUploadRequest","React","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useRef([]);g.useEffect(function(){return function(){a.current&&a.current.forEach(function(a){return a.abort()})}},[]);return function(c,d,e){c=new(b("AsyncUploadRequest"))(c).setAllowCrossOrigin(!0).setFiles({file:d}).setPreventDefaultErrorHandler(!0);var f=e.onFailed,g=e.onSucceeded;g&&c.subscribe("success",function(a,c){a=c.getResponse();if(a==null)throw b("unrecoverableViolation")("Photo upload result should contain a response.","profile_comet");g(a.getPayload())});f&&c.subscribe("failure",function(a,b){a=b.getResponse()||{};b=a.errorDescription;a=a.errorSummary;f({description:b!=null?b.toString():"",summary:a!=null?a.toString():""})});c.send();a.current.push(c)}}}),null);
__d("GroupsCometCreateCoverPhotoUploader.react",["fbt","CometPhotoPickerImagePreviewer.react","React","XGroupsCoverPhotoPreviewController","cometPushToast","useProfileCometPhotoUploader"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=150,j=330;function a(a){var c=a.disabled;c=c===void 0?!1:c;var d=a.height,e=a.isCoverPhotoLoading,f=a.onCoverPhotoRemove,k=a.onCoverPhotoSet,l=a.setIsCoverPhotoLoading;a=a.width;var m=b("useProfileCometPhotoUploader")(),n=h.useState(null),o=n[0],p=n[1],q=h.useCallback(function(a){l(!1),k(a),p(a)},[k,l]),r=h.useCallback(function(a){b("cometPushToast").cometPushErrorToast({message:a.description,title:a.summary}),l(!1)},[l]);n=h.useCallback(function(a){a=Array.from(a);a=a[0];if(!a||e)return;var c=b("XGroupsCoverPhotoPreviewController").getURIBuilder().getURI();l(!0);m(c,a,{onFailed:r,onSucceeded:q})},[e,l,m,r,q]);a=(a=a)!=null?a:j;d=(d=d)!=null?d:i;return h.jsx("div",{style:{height:d,width:a},children:h.jsx(b("CometPhotoPickerImagePreviewer.react"),{aspectRatio:a/d,disableReposition:c,disabled:c,isLoading:e,onChange:function(a,b){a==null&&f();if(o==null||b==null)return;k(babelHelpers["extends"]({},o,{focusX:b.x,focusY:b.y}))},onFilesSelected:n,uploadButtonLabel:g._("Upload Cover Photo")})})}}),null);
__d("useDiscardConfirmationDialog",["fbt","React","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){var a=b("useCometConfirmationDialog")(),c=a[0];a=a[1];var d=h.useCallback(function(a){c({body:g._("Are you sure you want to discard your changes?"),cancel:g._("Cancel"),confirm:g._("Discard"),title:g._("Discard Changes")},a)},[c]);return[d,a]}}),null);
__d("XProfilePicUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/upload/",{profile_id:{type:"Int",required:!0},photo_source:{type:"Enum",defaultValue:9,enumType:0},privacy_mutation_token:{type:"String"}})}),null);